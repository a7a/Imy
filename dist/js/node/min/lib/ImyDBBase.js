!function(t){"use strict";var n=require("./stringToFragments.js").stringToFragments,e=require("./analyzeFragments.js").analyzeFragments,o=require("./calculateScore.js").calculateScore,r=5,i=1.6,a=.6,p=0,c=function(t){this.db=null,this.trx=null,this.debug=!1,this._debugger=null,this._conf=t};c.prototype.transaction=function(){},c.prototype.commit=function(){},c.prototype.rollback=function(){},c.prototype.getAllIndexFragment=function(){},c.prototype.getIndexFragmentIdForTypeAndValue=function(){},c.prototype.addIndexFragment=function(){},c.prototype.removeIndexFragment=function(){},c.prototype.truncateIndexFragments=function(){},c.prototype.getAllIndexParameter=function(){},c.prototype.addIndexParameter=function(){},c.prototype.removeIndexParameter=function(){},c.prototype.countIndexParameterOfFragment=function(){},c.prototype.truncateIndexParameters=function(){},c.prototype.getAllData=function(){},c.prototype.getDataForTypeAndContent=function(){},c.prototype.getDataForIdAndPage=function(){},c.prototype.getMaxNo=function(){},c.prototype.addData=function(){},c.prototype.removeData=function(){},c.prototype.updateData=function(){},c.prototype.truncateData=function(){},c.prototype.setDebugger=function(t){"function"==typeof t&&(this._debugger=t)},c.prototype._doDebugging=function(){this.debug&&this._debugger&&this._debugger.apply(this,arguments)},c.prototype._getInstance=function(){return this.trx||this.db},c.prototype.search=function(t,c,u){var g=n(c,u),s=e(g),m={};return m.skip=u.skip||this._conf.skip||r,m.matching_max_ratio=u.matching_max_ratio||this._conf.matching_max_ratio||i,m.matching_min_ratio=u.matching_min_ratio||this._conf.matching_min_ratio||a,m.limit_min_score=u.limit_min_score||this._conf.limit_min_score||p,this.getForTypeAndValues(t,s.values).then(function(t){return o(t,g,c.length,s.map,m)})},t.ImyDBBase=c}(this);