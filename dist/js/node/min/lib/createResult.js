!function(o){"use strict";var s=require("./calcFragmentNum.js").calcFragmentNum,r=function(o,r,t,e,_,l){for(var n=0,a=Number.MAX_SAFE_INTEGER,u=0,g=Number.MAX_SAFE_INTEGER,d=0,i=0,c=0,p=0,f=0,m=0,v={},E=0;E<r.length;E+=1)for(var N=r[E].item,h=0;h<N.length;h+=1){var A=N[h],F=A.value;void 0===v[F]?v[F]=0:v[F]=v[F]+1,p=void 0!==t[F][v[F]]?v[F]:t[F].length-1,i=t[F][p].pos1,c=t[F][p].pos2,A.end_d_pos<_&&(f+=1,a>A.start_d_pos&&(a=A.start_d_pos),u<A.end_d_pos&&(u=A.end_d_pos),null!==i&&g>i&&(g=i),null!==c&&d<c&&(d=c)),console.log(F+" : "+A.s_flag+" "+t[F][p].sort_flag),m+=A.s_flag^t[F][p].sort_flag,console.log("sort_num: "+m)}console.log("===");var R=u-a-(d-g);for(n=R>0?f/(s(l.skip,e+R)/2):f/(s(l.skip,e)/2);n>1;)n-=1;return{id:o,start_pos:a,end_pos:u,weight:n,sort_num:m}};o.createResult=r}(this);